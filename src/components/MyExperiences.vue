<script setup>
import { ref } from "vue";

let activeBloc = ref(1);
let experiencesList = ref([
  {
    company: "Hillstone",
    title: "DÃ©veloppeur Frontend",
    emoji: "ðŸš€",
    date: "Novembre 2024 - PrÃ©sent",
    tasks: ["En phase de perfectionnement pour ma prochaine mission."],
  },
  {
    company: "ConformIT",
    title: "DÃ©veloppeur Frontend",
    techIcon: "devicon-vuejs-plain",
    tech: "VueJS",
    date: "AoÃ»t 2023 - Octobre 2024",
    tasks: [
      "Conception et maintenance dâ€™applications Web complexes, axÃ©es sur une interface utilisateur Ã©lÃ©gante et performante.",
      "Traduction fluide des maquettes en composants interactifs et rÃ©actifs.",
      "Participation Ã  des choix architecturaux stratÃ©giques et amÃ©lioration continue en Ã©quipe Scrum.",
    ],
  },
  {
    company: "VERMEG",
    title: "DÃ©veloppeur Frontend",
    techIcon: "devicon-angular-plain",
    tech: "Angular",
    date: "Juillet 2020 - Juillet 2023",
    tasks: [
      "DÃ©veloppement de la plateforme VEGGO, un outil rÃ©volutionnaire pour les solutions numÃ©riques en finance.",
      "ImplÃ©mentation de fonctionnalitÃ©s robustes, intÃ©gration de webservices et optimisation de lâ€™expÃ©rience utilisateur.",
      "RÃ©daction de documentation technique claire et rÃ©alisation de tests unitaires de qualitÃ©.",
    ],
  },
  {
    company: "GoMyCode",
    title: "DÃ©veloppeur Fullstack",
    techIcon: "devicon-react-plain",
    tech: "React",
    date: "Octobre 2019 - Mars 2020",
    tasks: [
      "CrÃ©ation de la plateforme d'apprentissage GoMyCode en utilisant le stack MERN.",
      "Conception dâ€™interfaces modernes, rÃ©actives et optimisÃ©es pour lâ€™Ã©ducation en ligne.",
      "Collaboration agile pour garantir des solutions rapides, fiables et sÃ©curisÃ©es.",
    ],
  },
]);

const showXp = (id) => {
  activeBloc.value = id;
};
</script>

<template>
  <div id="xp">
    <h2 class="text-highlight-1 section-title">Mes Experiences</h2>
    <div id="left">
      <!-- <p :class="activeBloc === 0 ? 'active' : ''" class="company fw600" @click="showXp(0)">ConformIT</p>
            <p :class="activeBloc === 1 ? 'active' : ''" class="company fw600" @click="showXp(1)">VERMEG</p>
            <p :class="activeBloc === 2 ? 'active' : ''" class="company fw600" @click="showXp(2)">GoMyCode</p> -->

      <p
        v-for="({ company }, index) in experiencesList"
        :class="activeBloc === index ? 'active' : ''"
        class="company fw600"
        @click="showXp(index)"
      >
        {{ company }}
      </p>
    </div>
    <div id="right">
      <template v-for="(job, index) in experiencesList">
        <div
          class="job-details"
          :class="index === activeBloc ? '' : 'hide'"
          :id="'bloc_' + index"
        >
          <h3 class="fw600">
            {{ job.title
            }}<span v-if="job.techIcon || job.tech">
              - <i :class="job.techIcon"></i> {{ job.tech }}</span
            >
            <span v-if="job.emoji"> - {{ job.emoji }}</span>
          </h3>
          <span id="date">{{ job.date }}</span>
          <br />
          <div v-if="job.tasks" style="margin-top: 10px">
            <p v-for="task in job.tasks" class="fw600 mtb8">
              <span class="text-highlight-2">âœ“</span> {{ task }}
            </p>
          </div>
        </div>
      </template>
    </div>
  </div>
</template>

<style scoped>
#xp {
  margin-top: 60px;
}

#xp #left {
  float: left;
  width: 25%;
}

#xp #right {
  float: left;
  width: 75%;
}

#xp #right h3 {
  font-size: 20px;
}

.fw600 {
  font-weight: 600;
}

.mtb8 {
  margin: 8px 0px;
}

#date {
  font-style: italic;
  font-size: 14px;
}

.company {
  border-left: 4px solid var(--vt-c-custom-text-1);
  line-height: 30px;
  padding-left: 10px;
}

.active {
  border-left: 4px solid var(--vt-c-custom-text-2);
  color: var(--vt-c-custom-text-2);
}

.company:hover {
  cursor: pointer;
  color: var(--vt-c-custom-text-1);
}

.hide {
  display: none;
}

@media screen and (max-width: 600px) {
  #xp #right {
    width: 100%;
    margin-top: 20px;
  }

  #xp #left {
    width: 100%;
  }

  .company {
    border: none;
    padding-left: 0px;
    float: left;
    margin-right: 10px;
  }
}
</style>
